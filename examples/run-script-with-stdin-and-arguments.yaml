document:
  dsl: 1.0.3
  namespace: examples
  name: run-script-with-stdin-and-arguments
  version: 1.0.0
do:
  - runScript:
      run:
        script:
          language: javascript
          stdin: "Hello Workflow"
          environment:
           foo: bar
          arguments:
          - hello
          code: |
            // Reading Input from STDIN
            import { readFileSync } from 'node:fs';
            const stdin = readFileSync(process.stdin.fd, 'utf8');
            console.log('stdin > ', stdin) // Output: stdin > Hello Workflow

            // Reading from argv
            const [_, __, arg] = process.argv;
            console.log('arg > ', arg) // Output: arg > hello

            // Reading from env
            const foo = process.env.foo;
            console.log('env > ', foo) // Output: env > bar
